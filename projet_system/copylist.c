#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <pthread.h>
#include "synchronisation.h"
#include "copylist.h"

void copie_fichier(char* nom)
{
	char command[256];
	snprintf(command, sizeof command, "cp PROD/%s BU/%s", nom, nom);
	system(command);
}

void copy_list (Liste* liste, Liste* ListeNouveau, Liste* BU)
{
	Element *actuel = BU->premier;
	if (actuel != NULL)
	{
		while(actuel != NULL) 
		{
			actuel = actuel->suivant;
		}
		actuel->suivant = ListeNouveau->premier;
	}
	else
	{
		BU->premier = ListeNouveau->premier;
		actuel = BU->premier;
	}
	while(actuel != NULL) 
	{
		copie_fichier(actuel->fichier.nom);
		actuel = actuel->suivant;
	}
}
