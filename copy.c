#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <pthread.h>
#include "synchro_list.h"
#include "copy.h"

void copy_list (Liste* liste)
    {
       Liste* liste1 = creer_liste(); 
        
        CARACTERISTIQUES_FICHIER fichier;
        asctime(&fichier.date);
        strcpy(fichier.nom, "toto");
        
        ajouter_nouveau_element_liste(liste1, fichier);
        
     if(liste-> premier->suivant == NULL) 
     {    
            FILE  *fichierCopy;
            fichierCopy = fopen ("fichierCopy.txt", "wb"); 

            Element *actuel = liste->premier;
            while (actuel != NULL)
                {
                    fprintf(fichierCopy," ",actuel->fichier.nom, asctime(&actuel->fichier.date));
                    actuel = actuel->suivant; 
                }     
                
                
            while (actuel != NULL)
                {
                    fprintf(fichierCopy," ",actuel->fichier.nom, asctime(&actuel->fichier.date));
                    actuel = actuel->suivant; 
                }
             fclose (fichierCopy);
          
    
     }
        
        
    }
